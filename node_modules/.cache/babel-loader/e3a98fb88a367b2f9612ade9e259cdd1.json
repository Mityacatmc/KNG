{"ast":null,"code":"export var noop = function noop() {}; // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport function throttle(fn) {\n  var threshold = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 50,\n      scope = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : window;\n  var prevDate = Date.now() - threshold;\n  var timeoutId;\n\n  var throttledFn = function throttledFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var timeLeft = prevDate + threshold - Date.now();\n    clearTimeout(timeoutId);\n\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(function () {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n\n  throttledFn.cancel = function () {\n    clearTimeout(timeoutId);\n  };\n\n  return throttledFn;\n}\nexport function debounce(fn, delay) {\n  var context = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : window;\n  var timeoutId;\n  var args;\n\n  var later = function later() {\n    return fn.apply(context, args);\n  };\n\n  var debouncedFn = function debouncedFn() {\n    for (var _len = arguments.length, a = new Array(_len), _key = 0; _key < _len; _key++) {\n      a[_key] = arguments[_key];\n    }\n\n    args = a;\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(later, delay);\n  };\n\n  debouncedFn.cancel = function () {\n    clearTimeout(timeoutId);\n  };\n\n  return debouncedFn;\n}\nexport function once(fn) {\n  var called = false;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (called) {\n      return;\n    }\n\n    called = true;\n    return fn.apply(this, args);\n  };\n}","map":{"version":3,"mappings":"AAAA,OAAO,IAAMA,OAAO,SAAPA,IAAO,IAAO,CAApB,C,CAAuB;;AAE9B,OAAO,SAASC,QAAT,CACLC,EADK,EACsB;MAC3BC,6EAAY;MACZC,yEAAQC;EAER,IAAIC,WAAmBC,KAAKC,GAALD,KAAaJ,SAApC;EACA,IAAIM,SAAJ;;EAEA,IAAMC,cAAc,SAAdA,WAAc;sCAAIC;MAAAA;;;IACtB,IAAMC,WAAWN,WAAWH,SAAXG,GAAuBC,KAAKC,GAALD,EAAxC;IAEAM,aAAaJ,SAAbI;;IACA,IAAID,WAAW,CAAf,EAAkB;MAChBH,YAAYK,WAAW;QACrBR,WAAWC,KAAKC,GAALD,EAAXD;QACAJ,GAAGa,KAAHb,CAASE,KAATF,EAAgBS,IAAhBT;MACF,CAHYY,EAGTF,QAHSE,CAAZL;MAIA;IACF;;IAEAH,WAAWC,KAAKC,GAALD,EAAXD;IACAJ,GAAGa,KAAHb,CAASE,KAATF,EAAgBS,IAAhBT;EACF,CAdA;;EAgBAQ,YAAYM,MAAZN,GAAqB;IACnBG,aAAaJ,SAAbI;EACF,CAFAH;;EAIA,OAAOA,WAAP;AACF;AAEA,OAAO,SAASO,QAAT,CACLf,EADK,EAELgB,KAFK,EAEQ;MACbC,2EAAUd;EAEV,IAAII,SAAJ;EACA,IAAIE,IAAJ;;EAEA,IAAMS,QAAQ,SAARA,KAAQ;WAAMlB,GAAGa,KAAHb,CAASiB,OAATjB,EAAkBS,IAAlBT;GAApB;;EACA,IAAMmB,cAAc,SAAdA,WAAc;sCAAIC;MAAAA;;;IACtBX,OAAOW,CAAPX;IACAE,aAAaJ,SAAbI;IACAJ,YAAYK,WAAWM,KAAXN,EAAkBI,KAAlBJ,CAAZL;EACF,CAJA;;EAMAY,YAAYL,MAAZK,GAAqB;IACnBR,aAAaJ,SAAbI;EACF,CAFAQ;;EAIA,OAAOA,WAAP;AACF;AAEA,OAAO,SAASE,IAAT,CAA+CrB,EAA/C,EAAoD;EACzD,IAAIsB,SAAS,KAAb;EACA,OAAO;IAAU,sCAAGb,GAAH;MAAGA,KAAHc,IAAGd,IAAHe,eAAGf;IAAG;;IACrB,IAAIa,MAAJ,EAAY;MACV;IACF;;IAEAA,SAAS,IAATA;IACA,OAAOtB,GAAGa,KAAHb,CAAS,IAATA,EAAeS,IAAfT,CAAP;EACF,CAPA;AAQF","names":["noop","throttle","fn","threshold","scope","window","prevDate","Date","now","timeoutId","throttledFn","args","timeLeft","clearTimeout","setTimeout","apply","cancel","debounce","delay","context","later","debouncedFn","a","once","called","_key","arguments"],"sources":["C:\\Users\\Ð¯\\Desktop\\myproject\\vk-miniapps\\Koto-app\\node_modules\\@vkontakte\\vkjs\\src\\functions.ts"],"sourcesContent":["export const noop = () => {}; // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport function throttle<T extends any[]>(\n  fn: (...args: T) => unknown,\n  threshold = 50,\n  scope = window,\n) {\n  let prevDate: number = Date.now() - threshold;\n  let timeoutId: ReturnType<typeof setTimeout>;\n\n  const throttledFn = (...args: T) => {\n    const timeLeft = prevDate + threshold - Date.now();\n\n    clearTimeout(timeoutId);\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(() => {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n\n  throttledFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return throttledFn;\n}\n\nexport function debounce<T extends any[]>(\n  fn: (...args: T) => unknown,\n  delay: number,\n  context = window,\n) {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  let args: T;\n\n  const later = () => fn.apply(context, args);\n  const debouncedFn = (...a: T) => {\n    args = a;\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(later, delay);\n  };\n\n  debouncedFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return debouncedFn;\n}\n\nexport function once<T extends (...args: any) => any>(fn: T) {\n  let called = false;\n  return function (...args) {\n    if (called) {\n      return;\n    }\n\n    called = true;\n    return fn.apply(this, args);\n  } as T;\n}\n"]},"metadata":{},"sourceType":"module"}