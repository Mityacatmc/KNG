{"ast":null,"code":"import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\nimport { _ as _object_without_properties } from \"@swc/helpers/_/_object_without_properties\";\nimport * as React from \"react\";\nimport { classNames } from \"@vkontakte/vkjs\";\nimport { useAdaptivityWithJSMediaQueries } from \"../../hooks/useAdaptivityWithJSMediaQueries\";\nimport { useId } from \"../../hooks/useId\";\nimport { useOrientationChange } from \"../../hooks/useOrientationChange\";\nimport { usePlatform } from \"../../hooks/usePlatform\";\nimport { SizeType } from \"../../lib/adaptivity\";\nimport { getNavId } from \"../../lib/getNavId\";\nimport { Platform } from \"../../lib/platform\";\nimport { multiRef } from \"../../lib/utils\";\nimport { warnOnce } from \"../../lib/warnOnce\";\nimport { ModalDismissButton } from \"../ModalDismissButton/ModalDismissButton\";\nimport { ModalRootContext, useModalRegistry } from \"../ModalRoot/ModalRootContext\";\nimport { ModalType } from \"../ModalRoot/types\";\nimport { RootComponent } from \"../RootComponent/RootComponent\";\nimport { ModalPageContext } from \"./ModalPageContext\";\nvar sizeClassName = {\n  s: \"vkuiModalPage--size-s\",\n  m: \"vkuiModalPage--size-m\",\n  l: \"vkuiModalPage--size-l\"\n};\nvar warn = warnOnce(\"ModalPage\");\n/**\n * @see https://vkcom.github.io/VKUI/#/ModalPage\n */\n\nexport var ModalPage = function ModalPage(_param) {\n  var children = _param.children,\n      header = _param.header,\n      tmp = _param.size,\n      sizeProp = tmp === void 0 ? \"s\" : tmp,\n      onOpen = _param.onOpen,\n      onOpened = _param.onOpened,\n      onClose = _param.onClose,\n      onClosed = _param.onClosed,\n      settlingHeight = _param.settlingHeight,\n      dynamicContentHeight = _param.dynamicContentHeight,\n      getModalContentRef = _param.getModalContentRef,\n      nav = _param.nav,\n      idProp = _param.id,\n      _param_hideCloseButton = _param.hideCloseButton,\n      hideCloseButton = _param_hideCloseButton === void 0 ? false : _param_hideCloseButton,\n      restProps = _object_without_properties(_param, [\"children\", \"header\", \"size\", \"onOpen\", \"onOpened\", \"onClose\", \"onClosed\", \"settlingHeight\", \"dynamicContentHeight\", \"getModalContentRef\", \"nav\", \"id\", \"hideCloseButton\"]);\n\n  var generatingId = useId();\n  var id = idProp || generatingId;\n  var updateModalHeight = React.useContext(ModalRootContext).updateModalHeight;\n  var platform = usePlatform();\n  var orientation = useOrientationChange();\n\n  var _useAdaptivityWithJSMediaQueries = useAdaptivityWithJSMediaQueries(),\n      sizeX = _useAdaptivityWithJSMediaQueries.sizeX,\n      isDesktop = _useAdaptivityWithJSMediaQueries.isDesktop;\n\n  React.useEffect(function () {\n    if (dynamicContentHeight) {\n      updateModalHeight();\n    }\n  }, [children, dynamicContentHeight, orientation, updateModalHeight]);\n  var isCloseButtonShown = !hideCloseButton && isDesktop;\n  var size = isDesktop ? sizeProp : \"s\";\n  var modalContext = React.useContext(ModalRootContext);\n  var refs = useModalRegistry(getNavId({\n    nav: nav,\n    id: id\n  }, warn), ModalType.PAGE).refs;\n  var contextValue = React.useMemo(function () {\n    return {\n      labelId: \"\".concat(id, \"-label\")\n    };\n  }, [id]);\n  return /*#__PURE__*/React.createElement(ModalPageContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(RootComponent, _object_spread_props(_object_spread({}, restProps), {\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    \"aria-labelledby\": contextValue.labelId,\n    id: id,\n    baseClassName: classNames(\"vkuiModalPage\", platform === Platform.IOS && \"vkuiModalPage--ios\", isDesktop && \"vkuiModalPage--desktop\", sizeX === SizeType.REGULAR && \"vkuiInternalModalPage--sizeX-regular\", typeof size === \"string\" && sizeClassName[size])\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__in-wrap\",\n    style: {\n      maxWidth: typeof size === \"number\" ? size : undefined\n    },\n    ref: refs.innerElement\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__in\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__header\",\n    ref: refs.headerElement\n  }, header), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__content-wrap\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__content\",\n    ref: multiRef(refs.contentElement, getModalContentRef)\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vkuiModalPage__content-in\"\n  }, children)), /*#__PURE__*/React.createElement(\"div\", {\n    ref: refs.bottomInset,\n    className: \"vkuiModalPage__bottom-inset\"\n  })), isCloseButtonShown && /*#__PURE__*/React.createElement(ModalDismissButton, {\n    onClick: onClose || modalContext.onClose\n  })))));\n};","map":{"version":3,"mappings":"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","names":["React","classNames","useAdaptivityWithJSMediaQueries","useId","useOrientationChange","usePlatform","SizeType","getNavId","Platform","multiRef","warnOnce","ModalDismissButton","ModalRootContext","useModalRegistry","ModalType","RootComponent","ModalPageContext","sizeClassName","s","m","l","warn","ModalPage","children","header","sizeProp","size","onOpen","onOpened","onClose","onClosed","settlingHeight","dynamicContentHeight","getModalContentRef","nav","id","idProp","hideCloseButton","_param_hideCloseButton","restProps","generatingId","updateModalHeight","useContext","platform","orientation","sizeX","isDesktop","useEffect","isCloseButtonShown","modalContext","refs","PAGE","contextValue","useMemo","labelId","concat","Provider","value","role","aria-modal","aria-labelledby","baseClassName","IOS","REGULAR","div","className","style","maxWidth","undefined","ref","innerElement","headerElement","contentElement","bottomInset","onClick"],"sources":["C:\\Users\\Я\\Desktop\\myproject\\vk-miniapps\\Koto-app\\node_modules\\@vkontakte\\vkui\\src\\components\\ModalPage\\ModalPage.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { useId } from '../../hooks/useId';\nimport { useOrientationChange } from '../../hooks/useOrientationChange';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { SizeType } from '../../lib/adaptivity';\nimport { getNavId, NavIdProps } from '../../lib/getNavId';\nimport { Platform } from '../../lib/platform';\nimport { multiRef } from '../../lib/utils';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { ModalDismissButton } from '../ModalDismissButton/ModalDismissButton';\nimport { ModalRootContext, useModalRegistry } from '../ModalRoot/ModalRootContext';\nimport { ModalType } from '../ModalRoot/types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { ModalPageContext } from './ModalPageContext';\nimport styles from './ModalPage.module.css';\n\nconst sizeClassName = {\n  s: styles['ModalPage--size-s'],\n  m: styles['ModalPage--size-m'],\n  l: styles['ModalPage--size-l'],\n};\n\nexport interface ModalPageProps extends HTMLAttributesWithRootRef<HTMLDivElement>, NavIdProps {\n  /**\n   * Шапка модальной страницы, `<ModalPageHeader />`\n   */\n  header?: React.ReactNode;\n  /**\n   * Задаёт контенту максимальную ширину для десктопной версии.\n   */\n  size?: 's' | 'm' | 'l' | number;\n  /**\n   * Будет вызвано при начале открытия модалки.\n   */\n  onOpen?: VoidFunction;\n  /**\n   * Будет вызвано при окончательном открытии модалки.\n   */\n  onOpened?: VoidFunction;\n  /**\n   * Будет вызвано при начале закрытия модалки.\n   */\n  onClose?: VoidFunction;\n  /**\n   * Будет вызвано при окончательном закрытии модалки.\n   */\n  onClosed?: VoidFunction;\n  /**\n   * Процент, на который изначально будет открыта модальная страница. При `settlingHeight={100}` модальная страница раскрывается на всю высоту.\n   */\n  settlingHeight?: number;\n  /**\n   * Если высота контента в модальной странице может поменяться, нужно установить это свойство\n   */\n  dynamicContentHeight?: boolean;\n  getModalContentRef?: React.Ref<HTMLDivElement>;\n  /**\n   * Скрывает кнопку закрытия (актуально для iOS, т.к. можно отрисовать кнопку закрытия внутри модалки)\n   */\n  hideCloseButton?: boolean;\n}\n\nconst warn = warnOnce('ModalPage');\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ModalPage\n */\nexport const ModalPage = ({\n  children,\n  header,\n  size: sizeProp = 's',\n  onOpen,\n  onOpened,\n  onClose,\n  onClosed,\n  settlingHeight, // 75\n  dynamicContentHeight,\n  getModalContentRef,\n  nav,\n  id: idProp,\n  hideCloseButton = false,\n  ...restProps\n}: ModalPageProps) => {\n  const generatingId = useId();\n  const id = idProp || generatingId;\n\n  const { updateModalHeight } = React.useContext(ModalRootContext);\n\n  const platform = usePlatform();\n  const orientation = useOrientationChange();\n  const { sizeX, isDesktop } = useAdaptivityWithJSMediaQueries();\n\n  React.useEffect(() => {\n    if (dynamicContentHeight) {\n      updateModalHeight();\n    }\n  }, [children, dynamicContentHeight, orientation, updateModalHeight]);\n\n  const isCloseButtonShown = !hideCloseButton && isDesktop;\n  const size = isDesktop ? sizeProp : 's';\n\n  const modalContext = React.useContext(ModalRootContext);\n  const { refs } = useModalRegistry(getNavId({ nav, id }, warn), ModalType.PAGE);\n\n  const contextValue = React.useMemo(() => ({ labelId: `${id}-label` }), [id]);\n\n  return (\n    <ModalPageContext.Provider value={contextValue}>\n      <RootComponent\n        {...restProps}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby={contextValue.labelId}\n        id={id}\n        baseClassName={classNames(\n          styles['ModalPage'],\n          platform === Platform.IOS && styles['ModalPage--ios'],\n          isDesktop && styles['ModalPage--desktop'],\n          sizeX === SizeType.REGULAR && 'vkuiInternalModalPage--sizeX-regular',\n          typeof size === 'string' && sizeClassName[size],\n        )}\n      >\n        <div\n          className={styles['ModalPage__in-wrap']}\n          style={{\n            maxWidth: typeof size === 'number' ? size : undefined,\n          }}\n          ref={refs.innerElement}\n        >\n          <div className={styles['ModalPage__in']}>\n            <div className={styles['ModalPage__header']} ref={refs.headerElement}>\n              {header}\n            </div>\n\n            <div className={styles['ModalPage__content-wrap']}>\n              <div\n                className={styles['ModalPage__content']}\n                ref={multiRef<HTMLDivElement>(refs.contentElement, getModalContentRef)}\n              >\n                <div className={styles['ModalPage__content-in']}>{children}</div>\n              </div>\n              <div ref={refs.bottomInset} className={styles['ModalPage__bottom-inset']} />\n            </div>\n            {isCloseButtonShown && <ModalDismissButton onClick={onClose || modalContext.onClose} />}\n          </div>\n        </div>\n      </RootComponent>\n    </ModalPageContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}