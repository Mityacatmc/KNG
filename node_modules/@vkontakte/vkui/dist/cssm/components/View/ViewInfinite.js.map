{"version":3,"sources":["../../../../src/components/View/ViewInfinite.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { withContext } from '../../hoc/withContext';\nimport { withPlatform } from '../../hoc/withPlatform';\nimport { canUseDOM, DOMProps, withDOM } from '../../lib/dom';\nimport { getNavId, NavIdProps } from '../../lib/getNavId';\nimport { Platform } from '../../lib/platform';\nimport { animationEvent, transitionEvent } from '../../lib/supportEvents';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { HasPlatform, HTMLAttributesWithRootRef } from '../../types';\nimport { ScrollContext, ScrollContextInterface } from '../AppRoot/ScrollContext';\nimport {\n  ConfigProviderContext,\n  ConfigProviderContextInterface,\n} from '../ConfigProvider/ConfigProviderContext';\nimport { NavTransitionProvider } from '../NavTransitionContext/NavTransitionContext';\nimport { NavTransitionDirectionProvider } from '../NavTransitionDirectionContext/NavTransitionDirectionContext';\nimport { SplitColContext, SplitColContextProps } from '../SplitCol/SplitColContext';\nimport { Touch, TouchEvent } from '../Touch/Touch';\nimport { swipeBackExcluded } from './utils';\nimport styles from './View.module.css';\n\nconst warn = warnOnce('ViewInfinite');\n\nenum SwipeBackResults {\n  fail = 1,\n  success,\n}\n\ninterface Scrolls {\n  [index: string]: Array<number | undefined>;\n}\n\ninterface ViewsScrolls {\n  [index: string]: Scrolls;\n}\n\ntype TransitionEventHandler = (e?: TransitionEvent) => void;\n\nexport let scrollsCache: ViewsScrolls = {};\n\nexport type TransitionParams = { from: string | null; to: string | null };\n\nexport interface ViewInfiniteProps\n  extends HTMLAttributesWithRootRef<HTMLElement>,\n    HasPlatform,\n    NavIdProps {\n  activePanel: string;\n  onTransition?(params: TransitionParams & { isBack: boolean }): void;\n  /**\n   * callback свайпа назад\n   */\n  onSwipeBack?(): void;\n  /**\n   * callback начала анимации свайпа назад.\n   */\n  onSwipeBackStart?(activePanel: string | null): void | 'prevent';\n  /**\n   * callback завершения анимации отмененного пользователем свайпа\n   */\n  onSwipeBackCancel?(): void;\n  history?: string[];\n  isBackCheck?(params: TransitionParams): boolean;\n  /**\n   * @ignore\n   */\n  splitCol?: SplitColContextProps;\n  /**\n   * @ignore\n   */\n  configProvider?: ConfigProviderContextInterface;\n  /**\n   * @ignore\n   */\n  scroll?: ScrollContextInterface;\n}\n\nexport interface ViewInfiniteState {\n  animated: boolean;\n\n  visiblePanels: Array<string | null>;\n  activePanel: string | null;\n  isBack?: boolean;\n  prevPanel: string | null;\n  nextPanel: string | null;\n\n  swipingBack?: boolean;\n  swipeBackPrevented: boolean;\n  swipeBackStartX: number;\n  swipeBackShift: number;\n  swipeBackNextPanel: string | null;\n  swipeBackPrevPanel: string | null;\n  swipeBackResult: SwipeBackResults | null;\n\n  browserSwipe: boolean;\n}\n\nclass ViewInfiniteComponent extends React.Component<\n  ViewInfiniteProps & DOMProps,\n  ViewInfiniteState\n> {\n  private static readonly SWIPE_BACK_AREA = 70;\n\n  constructor(props: ViewInfiniteProps) {\n    super(props);\n\n    this.state = {\n      animated: false,\n\n      visiblePanels: [props.activePanel],\n      activePanel: props.activePanel,\n      isBack: undefined,\n      prevPanel: null,\n      nextPanel: null,\n\n      swipingBack: undefined,\n      swipeBackPrevented: false,\n      swipeBackStartX: 0,\n      swipeBackShift: 0,\n      swipeBackNextPanel: null,\n      swipeBackPrevPanel: null,\n      swipeBackResult: null,\n\n      browserSwipe: false,\n    };\n  }\n\n  static defaultProps: Partial<ViewInfiniteProps> = {\n    history: [],\n  };\n\n  private scrolls = scrollsCache[getNavId(this.props, warn) as string] || {};\n  private transitionFinishTimeout: ReturnType<typeof setTimeout> | undefined = undefined;\n  private animationFinishTimeout: ReturnType<typeof setTimeout> | undefined = undefined;\n\n  get document() {\n    return this.props.document;\n  }\n\n  get window() {\n    return this.props.window;\n  }\n\n  get panels() {\n    return React.Children.toArray(this.props.children) as React.ReactElement[];\n  }\n\n  panelNodes: { [id: string]: HTMLDivElement | null } = {};\n\n  componentWillUnmount() {\n    const id = getNavId(this.props);\n    if (id) {\n      scrollsCache[id] = this.scrolls;\n    }\n    if (this.animationFinishTimeout) {\n      clearTimeout(this.animationFinishTimeout);\n    }\n  }\n\n  componentDidUpdate(prevProps: ViewInfiniteProps, prevState: ViewInfiniteState) {\n    // Нужен переход\n    if (\n      prevProps.activePanel !== this.props.activePanel &&\n      !prevState.swipingBack &&\n      !prevState.browserSwipe\n    ) {\n      let isBack = false;\n\n      if (this.props.isBackCheck) {\n        isBack = this.props.isBackCheck({\n          from: prevProps.activePanel,\n          to: this.props.activePanel,\n        });\n      } else {\n        const firstLayerId = this.panels\n          .map((panel) => getNavId(panel.props, warn))\n          .find((id) => id === prevProps.activePanel || id === this.props.activePanel);\n        isBack = firstLayerId === this.props.activePanel;\n      }\n\n      this.blurActiveElement();\n\n      const prevScrolls = this.scrolls[prevProps.activePanel] || [];\n      const scrolls = {\n        ...this.scrolls,\n        [prevProps.activePanel]: [...prevScrolls, this.props.scroll?.getScroll().y],\n      };\n      this.scrolls = scrolls;\n\n      if (this.shouldDisableTransitionMotion()) {\n        this.flushTransition(prevProps.activePanel, isBack);\n      } else {\n        this.setState({\n          visiblePanels: [prevProps.activePanel, this.props.activePanel],\n          prevPanel: prevProps.activePanel,\n          nextPanel: this.props.activePanel,\n          activePanel: null,\n          animated: true,\n          isBack,\n        });\n\n        // Фолбек анимации перехода\n        if (!animationEvent.supported) {\n          if (this.animationFinishTimeout) {\n            clearTimeout(this.animationFinishTimeout);\n          }\n          this.animationFinishTimeout = setTimeout(\n            this.transitionEndHandler,\n            this.props.platform === Platform.ANDROID || this.props.platform === Platform.VKCOM\n              ? 300\n              : 600,\n          );\n        }\n      }\n    }\n\n    // Закончилась анимация свайпа назад\n    if (prevProps.activePanel !== this.props.activePanel && prevState.swipingBack) {\n      const nextPanel = this.state.swipeBackNextPanel;\n      const prevPanel = this.state.swipeBackPrevPanel;\n      let scrollPosition: undefined | number = undefined;\n\n      this.scrolls = {\n        ...this.scrolls,\n      };\n\n      if (prevPanel !== null) {\n        const prevPanelScrolls = [...(this.scrolls[prevPanel] || [])].slice(0, -1);\n        this.scrolls[prevPanel] = prevPanelScrolls;\n      }\n      if (nextPanel !== null) {\n        const newPanelScrolls = [...(this.scrolls[nextPanel] || [])];\n        scrollPosition = newPanelScrolls.pop();\n        this.scrolls[nextPanel] = newPanelScrolls;\n      }\n\n      this.setState(\n        {\n          swipeBackPrevPanel: null,\n          swipeBackNextPanel: null,\n          swipingBack: false,\n          swipeBackResult: null,\n          swipeBackStartX: 0,\n          swipeBackShift: 0,\n          activePanel: nextPanel,\n          visiblePanels: [nextPanel],\n        },\n        () => {\n          this.props.scroll?.scrollTo(0, scrollPosition);\n          prevProps.onTransition &&\n            prevProps.onTransition({\n              isBack: true,\n              from: prevPanel,\n              to: nextPanel,\n            });\n        },\n      );\n    }\n\n    // Началась анимация завершения свайпа назад.\n    if (!prevState.swipeBackResult && this.state.swipeBackResult) {\n      this.waitTransitionFinish(\n        this.pickPanel(this.state.swipeBackNextPanel),\n        this.swipingBackTransitionEndHandler,\n      );\n    }\n\n    // Если свайп назад отменился (когда пользователь недостаточно сильно свайпнул)\n    if (\n      prevState.swipeBackResult === SwipeBackResults.fail &&\n      !this.state.swipeBackResult &&\n      this.state.activePanel !== null\n    ) {\n      const newPanelScrolls = [...(this.scrolls[this.state.activePanel] || [])];\n      const scrollPosition = newPanelScrolls.pop();\n      this.scrolls = {\n        ...this.scrolls,\n        [this.state.activePanel]: newPanelScrolls,\n      };\n\n      this.props.scroll?.scrollTo(0, scrollPosition);\n    }\n\n    // Закончился Safari свайп\n    if (prevProps.activePanel !== this.props.activePanel && this.state.browserSwipe) {\n      this.setState({\n        browserSwipe: false,\n        nextPanel: null,\n        prevPanel: null,\n        animated: false,\n        visiblePanels: [this.props.activePanel],\n        activePanel: this.props.activePanel,\n      });\n    }\n  }\n\n  shouldDisableTransitionMotion(): boolean {\n    return (\n      this.props.configProvider?.transitionMotionEnabled === false ||\n      !this.props.splitCol?.animate ||\n      this.props.platform === Platform.VKCOM\n    );\n  }\n\n  waitTransitionFinish(\n    elem: HTMLElement | null | undefined,\n    eventHandler: TransitionEventHandler,\n  ): void {\n    if (transitionEvent.supported && transitionEvent.name && elem) {\n      elem.removeEventListener(\n        transitionEvent.name as keyof HTMLElementEventMap,\n        eventHandler as EventListener,\n      );\n      elem.addEventListener(\n        transitionEvent.name as keyof HTMLElementEventMap,\n        eventHandler as EventListener,\n      );\n    } else {\n      if (this.transitionFinishTimeout) {\n        clearTimeout(this.transitionFinishTimeout);\n      }\n\n      this.transitionFinishTimeout = setTimeout(\n        eventHandler,\n        this.props.platform === Platform.ANDROID || this.props.platform === Platform.VKCOM\n          ? 300\n          : 600,\n      );\n    }\n  }\n\n  blurActiveElement(): void {\n    if (typeof this.window !== 'undefined' && this.document?.activeElement) {\n      (this.document.activeElement as HTMLElement).blur();\n    }\n  }\n\n  pickPanel(id: string | null) {\n    if (id === null) {\n      return undefined;\n    }\n    return this.panelNodes[id];\n  }\n\n  flushTransition(prevPanel: string, isBack: boolean) {\n    const activePanel = this.props.activePanel;\n\n    const prevPanelScrolls = [...(this.scrolls[prevPanel] || [])].slice(0, -1);\n    const newPanelScrolls = [...(this.scrolls[activePanel] || [])];\n    const scrollPosition = isBack ? newPanelScrolls.pop() : 0;\n    if (isBack) {\n      this.scrolls = {\n        ...this.scrolls,\n        [prevPanel]: prevPanelScrolls,\n        [activePanel]: newPanelScrolls,\n      };\n    }\n\n    this.setState(\n      {\n        prevPanel: null,\n        nextPanel: null,\n        visiblePanels: [activePanel],\n        activePanel: activePanel,\n        animated: false,\n        isBack,\n      },\n      () => {\n        this.props.scroll?.scrollTo(0, isBack ? scrollPosition : 0);\n        this.props.onTransition &&\n          this.props.onTransition({ isBack, from: prevPanel, to: activePanel });\n      },\n    );\n  }\n\n  transitionEndHandler = (e?: React.AnimationEvent): void => {\n    if (\n      (!e ||\n        [\n          styles['animation-ios-next-forward'],\n          styles['animation-ios-prev-back'],\n          styles['animation-view-next-forward'],\n          styles['animation-view-prev-back'],\n        ].includes(e.animationName)) &&\n      this.state.prevPanel !== null\n    ) {\n      this.flushTransition(this.state.prevPanel, Boolean(this.state.isBack));\n    }\n  };\n\n  swipingBackTransitionEndHandler = (e?: TransitionEvent): void => {\n    // indexOf because of vendor prefixes in old browsers\n    if (\n      !e ||\n      (e.propertyName.includes('transform') &&\n        e.target === this.pickPanel(this.state.swipeBackNextPanel))\n    ) {\n      switch (this.state.swipeBackResult) {\n        case SwipeBackResults.fail:\n          this.onSwipeBackCancel();\n          break;\n        case SwipeBackResults.success:\n          this.onSwipeBackSuccess();\n      }\n    }\n  };\n\n  onSwipeBackSuccess(): void {\n    this.props.onSwipeBack && this.props.onSwipeBack();\n  }\n\n  onSwipeBackCancel(): void {\n    this.props.onSwipeBackCancel && this.props.onSwipeBackCancel();\n    this.setState({\n      swipeBackPrevPanel: null,\n      swipeBackNextPanel: null,\n      swipingBack: false,\n      swipeBackResult: null,\n      swipeBackStartX: 0,\n      swipeBackShift: 0,\n    });\n  }\n\n  onMoveX = (event: TouchEvent): void => {\n    if (\n      !this.window ||\n      this.props.platform !== Platform.IOS ||\n      this.state.swipeBackPrevented ||\n      swipeBackExcluded(event) ||\n      this.shouldDisableTransitionMotion()\n    ) {\n      return;\n    }\n\n    if (!this.props.configProvider?.isWebView) {\n      if (\n        (event.startX <= ViewInfiniteComponent.SWIPE_BACK_AREA ||\n          event.startX >= this.window.innerWidth - ViewInfiniteComponent.SWIPE_BACK_AREA) &&\n        !this.state.browserSwipe\n      ) {\n        this.setState({ browserSwipe: true });\n      }\n\n      return;\n    }\n\n    if (\n      !this.props.onSwipeBack ||\n      (this.state.animated && event.startX <= ViewInfiniteComponent.SWIPE_BACK_AREA)\n    ) {\n      return;\n    }\n\n    if (\n      !this.state.swipingBack &&\n      event.startX <= ViewInfiniteComponent.SWIPE_BACK_AREA &&\n      this.props.history &&\n      this.props.history.length > 1\n    ) {\n      if (this.props.onSwipeBackStart) {\n        const payload = this.props.onSwipeBackStart(this.state.activePanel);\n        if (payload === 'prevent') {\n          this.setState({ swipeBackPrevented: true });\n          return;\n        }\n      }\n\n      if (this.state.activePanel !== null) {\n        // Note: вызываем закрытие клавиатуры. В iOS это нативное поведение при свайпе.\n        this.blurActiveElement();\n        const prevScrolls = this.scrolls[this.state.activePanel] || [];\n        this.scrolls = {\n          ...this.scrolls,\n          [this.state.activePanel]: [...prevScrolls, this.props.scroll?.getScroll().y],\n        };\n      }\n\n      this.setState({\n        swipingBack: true,\n        swipeBackStartX: event.startX,\n        swipeBackPrevPanel: this.state.activePanel,\n        swipeBackNextPanel: this.props.history.slice(-2)[0],\n      });\n    }\n\n    if (this.state.swipingBack) {\n      let swipeBackShift;\n      if (event.shiftX < 0) {\n        swipeBackShift = 0;\n      } else if (event.shiftX > this.window.innerWidth - this.state.swipeBackStartX) {\n        swipeBackShift = this.window.innerWidth;\n      } else {\n        swipeBackShift = event.shiftX;\n      }\n      this.setState({ swipeBackShift });\n    }\n  };\n\n  onEnd = (event: TouchEvent): void => {\n    if (this.state.swipingBack && this.window) {\n      const speed = (this.state.swipeBackShift / event.duration) * 1000;\n      if (this.state.swipeBackShift === 0) {\n        this.onSwipeBackCancel();\n      } else if (this.state.swipeBackShift >= this.window.innerWidth) {\n        this.onSwipeBackSuccess();\n      } else if (\n        speed > 250 ||\n        this.state.swipeBackStartX + this.state.swipeBackShift > this.window.innerWidth / 2\n      ) {\n        this.setState({ swipeBackResult: SwipeBackResults.success });\n      } else {\n        this.setState({ swipeBackResult: SwipeBackResults.fail });\n      }\n    }\n    if (this.state.swipeBackPrevented) {\n      this.setState({ swipeBackPrevented: false });\n    }\n  };\n\n  calcPanelSwipeStyles(panelId: string | undefined): React.CSSProperties {\n    if (!canUseDOM || !this.window) {\n      return {};\n    }\n\n    const isPrev = panelId === this.state.swipeBackPrevPanel;\n    const isNext = panelId === this.state.swipeBackNextPanel;\n\n    if ((!isPrev && !isNext) || this.state.swipeBackResult) {\n      return {};\n    }\n\n    let prevPanelTranslate = `${this.state.swipeBackShift}px`;\n    let nextPanelTranslate = `${\n      -50 + (this.state.swipeBackShift * 100) / this.window.innerWidth / 2\n    }%`;\n    let prevPanelShadow =\n      (0.3 * (this.window.innerWidth - this.state.swipeBackShift)) / this.window.innerWidth;\n\n    if (this.state.swipeBackResult) {\n      return isPrev ? { boxShadow: `-2px 0 12px rgba(0, 0, 0, ${prevPanelShadow})` } : {};\n    }\n\n    if (isNext) {\n      return {\n        transform: `translate3d(${nextPanelTranslate}, 0, 0)`,\n        WebkitTransform: `translate3d(${nextPanelTranslate}, 0, 0)`,\n      };\n    }\n    if (isPrev) {\n      return {\n        transform: `translate3d(${prevPanelTranslate}, 0, 0)`,\n        WebkitTransform: `translate3d(${prevPanelTranslate}, 0, 0)`,\n        boxShadow: `-2px 0 12px rgba(0, 0, 0, ${prevPanelShadow})`,\n      };\n    }\n\n    return {};\n  }\n\n  render() {\n    const {\n      platform,\n      activePanel: _1,\n      splitCol,\n      configProvider,\n      history,\n      id,\n      nav,\n      onTransition,\n      onSwipeBack,\n      onSwipeBackStart,\n      onSwipeBackCancel,\n      window,\n      document,\n      scroll,\n      isBackCheck,\n      className,\n      ...restProps\n    } = this.props;\n    const {\n      prevPanel,\n      nextPanel,\n      activePanel,\n      isBack,\n      animated,\n      swipeBackPrevPanel,\n      swipeBackNextPanel,\n      swipeBackResult,\n      swipingBack,\n    } = this.state;\n\n    const panels = this.panels\n      .filter((panel) => {\n        const panelId = getNavId(panel.props, warn);\n\n        return (\n          (panelId !== undefined && this.state.visiblePanels.includes(panelId)) ||\n          panelId === swipeBackPrevPanel ||\n          panelId === swipeBackNextPanel\n        );\n      })\n      .sort((panel) => {\n        const panelId = getNavId(panel.props, warn);\n        const isPrevPanel = panelId === prevPanel || panelId === swipeBackPrevPanel;\n        const isNextPanel = panelId === nextPanel || panelId === swipeBackNextPanel;\n\n        if (isNextPanel) {\n          return swipingBack || this.state.isBack ? -1 : 1;\n        }\n\n        if (isPrevPanel) {\n          return swipingBack || this.state.isBack ? 1 : -1;\n        }\n\n        return 0;\n      });\n\n    const disableAnimation = this.shouldDisableTransitionMotion();\n\n    return (\n      <Touch\n        Component=\"section\"\n        {...restProps}\n        className={classNames(\n          styles['View'],\n          platform === Platform.IOS && classNames(styles['View--ios'], 'vkuiInternalView--ios'),\n          !disableAnimation && this.state.animated && styles['View--animated'],\n          !disableAnimation && this.state.swipingBack && styles['View--swiping-back'],\n          disableAnimation && styles['View--no-motion'],\n          className,\n        )}\n        onMoveX={this.onMoveX}\n        onEnd={this.onEnd}\n      >\n        <div className={styles['View__panels']}>\n          {panels.map((panel: React.ReactElement) => {\n            const panelId = getNavId(panel.props, warn);\n            const isPrev = panelId === prevPanel || panelId === swipeBackPrevPanel;\n            const compensateScroll =\n              isPrev || panelId === swipeBackNextPanel || (panelId === nextPanel && isBack);\n            const isTransitionTarget = animated && panelId === (isBack ? prevPanel : nextPanel);\n            const scrollList = (panelId && this.scrolls[panelId]) || [];\n            const scroll = scrollList[scrollList.length - 1] || 0;\n\n            return (\n              <div\n                className={classNames(\n                  styles['View__panel'],\n                  panelId === activePanel && styles['View__panel--active'],\n                  panelId === prevPanel && styles['View__panel--prev'],\n                  panelId === nextPanel && styles['View__panel--next'],\n                  panelId === swipeBackPrevPanel && styles['View__panel--swipe-back-prev'],\n                  panelId === swipeBackNextPanel && styles['View__panel--swipe-back-next'],\n                  swipeBackResult === SwipeBackResults.success &&\n                    styles['View__panel--swipe-back-success'],\n                  swipeBackResult === SwipeBackResults.fail &&\n                    styles['View__panel--swipe-back-failed'],\n                )}\n                onAnimationEnd={isTransitionTarget ? this.transitionEndHandler : undefined}\n                ref={(el) => panelId !== undefined && (this.panelNodes[panelId] = el)}\n                style={this.calcPanelSwipeStyles(panelId)}\n                key={panelId}\n              >\n                <div\n                  className={styles['View__panel-in']}\n                  style={{ marginTop: compensateScroll ? -scroll : undefined }}\n                >\n                  <NavTransitionDirectionProvider isBack={swipingBack || isBack}>\n                    <NavTransitionProvider\n                      entering={panelId === nextPanel || panelId === swipeBackNextPanel}\n                    >\n                      {panel}\n                    </NavTransitionProvider>\n                  </NavTransitionDirectionProvider>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </Touch>\n    );\n  }\n}\n\nexport const ViewInfinite = withContext(\n  withContext(\n    withContext(\n      withPlatform(withDOM<ViewInfiniteProps>(ViewInfiniteComponent)),\n      SplitColContext,\n      'splitCol',\n    ),\n    ConfigProviderContext,\n    'configProvider',\n  ),\n  ScrollContext,\n  'scroll',\n);\n"],"names":["React","classNames","withContext","withPlatform","canUseDOM","withDOM","getNavId","Platform","animationEvent","transitionEvent","warnOnce","ScrollContext","ConfigProviderContext","NavTransitionProvider","NavTransitionDirectionProvider","SplitColContext","Touch","swipeBackExcluded","styles","warn","SwipeBackResults","fail","success","scrollsCache","ViewInfiniteComponent","Component","SWIPE_BACK_AREA","constructor","props","state","animated","visiblePanels","activePanel","isBack","undefined","prevPanel","nextPanel","swipingBack","swipeBackPrevented","swipeBackStartX","swipeBackShift","swipeBackNextPanel","swipeBackPrevPanel","swipeBackResult","browserSwipe","defaultProps","history","scrolls","transitionFinishTimeout","animationFinishTimeout","document","window","panels","Children","toArray","children","panelNodes","componentWillUnmount","id","clearTimeout","componentDidUpdate","prevProps","prevState","isBackCheck","from","to","firstLayerId","map","panel","find","blurActiveElement","prevScrolls","scroll","getScroll","y","shouldDisableTransitionMotion","flushTransition","setState","supported","setTimeout","transitionEndHandler","platform","ANDROID","VKCOM","scrollPosition","prevPanelScrolls","slice","newPanelScrolls","pop","scrollTo","onTransition","waitTransitionFinish","pickPanel","swipingBackTransitionEndHandler","configProvider","transitionMotionEnabled","splitCol","animate","elem","eventHandler","name","removeEventListener","addEventListener","activeElement","blur","e","includes","animationName","Boolean","propertyName","target","onSwipeBackCancel","onSwipeBackSuccess","onSwipeBack","onMoveX","event","IOS","isWebView","startX","innerWidth","length","onSwipeBackStart","payload","shiftX","onEnd","speed","duration","calcPanelSwipeStyles","panelId","isPrev","isNext","prevPanelTranslate","nextPanelTranslate","prevPanelShadow","boxShadow","transform","WebkitTransform","render","_1","nav","className","restProps","filter","sort","isPrevPanel","isNextPanel","disableAnimation","div","compensateScroll","isTransitionTarget","scrollList","onAnimationEnd","ref","el","style","key","marginTop","entering","ViewInfinite"],"mappings":"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"}